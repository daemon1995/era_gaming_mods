ZVSE2


!?FU(OnAfterErmInstructions);
; Uland has advanced wisdom for no reason on lvl 1
!!HE(HERO_ULAND):Ed/?(lvl:y);
!!HE(HERO_ULAND)&(lvl)=1:S(SKILL_WISDOM)/1;

; Turn off artifact helper
!!SN:W^artefact_helper^;

; Give dracolich missed flag
!!MA:X(MON_DRACOLICH)/?f;
!!VR(aoeShooter:y):Sf &(MON_FLAG_SPLASH_SHOOTER);
!!MA&(aoeShooter)=0:X(MON_DRACOLICH)/d|(MON_FLAG_SPLASH_SHOOTER);

; Magic Elems - damage is reduced by 50% to creatures that immune to magic
; 004439CB - hook
; 0044A1A0 double Creature::GetDwarfResistance(int spell_id, int MonType, _Hero_ *DHero, _Hero_ *AHero)
; надо проверить все 5 лвлов заклинаний в формате (int spell_id, int MonType, 0, 0)
; если все 5 коллов вернут 0.0, то существо иммунно к магии


; Update scouting range after visiting objects that can change scouting radius
!$OB(HOTA_OBJECT_TYPE)/(HERMITS_SHACK_OBJECT_SUBTYPE);
!!FU(gem_UpdateScoutingRange):P(CURRENT_HERO);

!$OB(HOTA_UNREACHABLE_YT_OBJECT_TYPE)/(OBSERVATORY_OBJECT_SUBTYPE);
!!FU(gem_UpdateScoutingRange):P(CURRENT_HERO);
