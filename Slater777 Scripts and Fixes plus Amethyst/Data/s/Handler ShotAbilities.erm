ZVSE2


; Все кейсы скиллов/спеллов после выстрела


!?FU(js_BattleStack_ShotAbilities);
!!UN:Cx1/(STRUCT_HOOK_CONTEXT_EDI)/4/?(target:y) C(target)/76/4/?(monQty:y); 4C
!!FU&(monQty)<=0:E;

!!UN:Cx1/(STRUCT_HOOK_CONTEXT_ESI)/4/?(shooter:y) C(shooter)/52/4/?(shooterNum:y); 34;

!!FU(js_BattleStack_DeadShot)&(shooterNum)=(MON_SEA_DOG):P(shooter)/(target);
!!FU(js_BattleStack_SeaWitchCasts)|(shooterNum)=(MON_SEA_WITCH)/(shooterNum)=(MON_SEA_SORCERESS):P(shooter)/(target);
